{% extends "yoga/base.html" %}

{% load static %}
{% block head %}
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="https:/resources/demos/style.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<link rel="stylesheet" href="{% static 'yoga/display_lessons.css' %}">
{% endblock %}

<!-- 
  
  <form method= "POST">
    {% csrf_token %}    
    
    {{form.as_p}}  
    
    
    <button type="submit" class="btn btn-primary">Submit Info</button>
    
  </form>
  
-->

{% block content %}


{% if user.is_authenticated %}
<div class="alert alert-primary" role="alert">
  you are signed in
</div>
{% else %}
<div class="alert alert-primary" role="alert">
  you are not signed in
</div>
{% endif %}

<h1>Upcoming lessons</h1>


<div id="mySidebar" class="sidebar">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
  <a href="#">About</a>
  <a href="#">Services</a>
  <a href="#">Clients</a>
  <a href="#">Contact</a>
</div>

<div id="main">
  <button class="openbtn" onclick="openNav()">☰ Open Sidebar</button>  
  <h2>Collapsed Sidebar</h2>
  <p>Click on the hamburger menu/bar icon to open the sidebar, and push this content to the right.</p>
</div>

<script>
  function openNav() {
    document.getElementById("mySidebar").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
  }
  
  function closeNav() {
    document.getElementById("mySidebar").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
  }
</script>



<div>
  <p>Organize by Studio/Location/Time</p>
</div>
<div>
  
  
  <div>
    <h1>This is a test of filters</h1>
    
    <form method="GET">
      
      {{lesson_filter.form.as_p}}
      <p>Studio Name: {{lesson_filter.form.classinfo__studio__name}}</p>
      <p>Class Title: {{lesson_filter.form.classinfo__title}} </p>
      <p>City: {{lesson_filter.form.classinfo__studio__address__city}} </p>

      
      <button type='submit'>Submit</button>
      </form>
  
  <div class="card-columns">
    {% for class in classinfos %}
      {% for lesson in class.lesson_set.all %}
        {% for obj in lesson_filter.qs %}
          <div class="card">
            {{forloop.counter}}
            <img src="" class="card-img-top" alt="">
            <div class="card-body">
              <h5 class="card-title">Lesson {{lesson.datetime|date:'F d, Y'}}  | {{obj.classinfo.title}} | {{obj.classinfo.studio.name}}</h5>
              <p class="card-text">{{class.oneliner}}</p>
              
              <a class="btn btn-primary" href="{% url 'display_class' class.title|slugify %}">Check out this Lesson</a>
              <p> City: {{obj.classinfo.studio.address.city}} | Duration: {{obj.duration}} | Cost for Lesson: {{obj.classinfo.cost}} NIS  </p>
              
            </div>
          </div>
        {% endfor %}
      {% endfor %}
    {% endfor %} 
  </div>
  


  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        
  {% endblock %}
  
  
  